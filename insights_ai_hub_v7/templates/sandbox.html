<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>insights.ai – News Preview</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/css/style.css">
  <style>.grid{grid-template-columns:1fr}</style>
</head>
<body>
  <header>
    <div class="brand"><div class="dot"></div><h1>insights.ai</h1></div>
    <div class="actions">
      <a class="button" href="/">Daily Focus</a>
    </div>
  </header>
  <div class="page">
    <div class="card">
      <h2>NYC Real Estate News Preview</h2>
      <div style="display:flex;gap:8px;align-items:center">
        <input id="q" placeholder="e.g. Brooklyn new development" style="flex:1;padding:10px;border-radius:8px;border:1px solid #1f1f22;background:#0f0f10;color:#fff">
        <a class="button" href="#" onclick="load();return false;">Search</a>
      </div>
      <ul id="list"></ul>
    </div>
  </div>
  <footer>Powered by insights.ai</footer>
  <script>
    async function load(){
      const q=document.getElementById('q').value;
      const url='/api/get_news?'+new URLSearchParams({q, max_items: 10});
      const res=await fetch(url); const j=await res.json();
      const list=document.getElementById('list'); list.innerHTML='';
      j.items.forEach(i=>{
        const li=document.createElement('li'); li.innerHTML = `<a style="color:#e5e5e5" target="_blank" href="${i.link}">${i.title}</a> — ${i.summary?.slice(0,160) || ''}...`;
        list.appendChild(li);
      });
    }
    load();
  </script>
</body>
</html>
